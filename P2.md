# ES20 P2 submission, Group NN

## Feature PPA

### Subgroup
 - Rafael Alexandre, ist189528, 99rafa (#44480935)
   + Issues assigned: [#36](https://github.com/tecnico-softeng/es20al_21-project/issues/36), [#38](https://github.com/tecnico-softeng/es20al_21-project/issues/38), [#45](https://github.com/tecnico-softeng/es20al_21-project/issues/45), [#46](https://github.com/tecnico-softeng/es20al_21-project/issues/46) 
 - Francisco Cec√≠lio, istID, FCecilioIST (#43855197)
   + Issues assigned: [#37](https://github.com/tecnico-softeng/es20al_21-project/issues/37), [#51](https://github.com/tecnico-softeng/es20al_21-project/issues/51)
 
### Pull requests associated with this feature

The list of pull requests associated with this feature is:

 - [PR #044](https://github.com/tecnico-softeng/es20al_21-project/pull/44)


### Web services definition

#### Controllers
 - [Controller0](https://github.com)
 - [Controller1](https://github.com)
 - [Controller2](https://github.com)

### Feature testing

Each subgroup member defined one reading test and one writing test. The direct links to these are:

 - [ReadingTestJMeter](https://github.com)
 - [WritingTestJMeter](https://github.com)


#### Screenshots of Results Trees and DB cleanup

![Response body](p2-images/jmeter_create_1.png)
![Summary report](p2-images/jmeter_create_3.png)
![DB Cleanup](p2-images/jmeter_create_2.png)


### Load testing

Each subgroup member defined one reading test and one writing test. The direct links to these are:

 - [ReadingTestJMeter](https://github.com)
 - [WritingTestJMeter](https://github.com)


#### Screenshots of Summary Reports and DB cleanup

![Summary report](p2-images/jmeter_load_table.png)
![DB Cleanup](p2-images/jmeter_load_clean.png)


### Service profiling

We used the [Async Profiler](https://www.jetbrains.com/help/idea/async-profiler.html).

#### Screenshots of summary reports

![Profiling percentages](p2-images/profiling_percentages.png)
![Profiling graphs](p2-images/profiling_graphs.png)
![Profiling heap](p2-images/profiling_heap.png)


#### Discussion of findings

**TODO**: include here a short description of findings (max. 3 sentences). If
you found opportunities for optimization, you can use more than 3 sentences to
describe what you found and how you optimized your code.


---

## Feature DDP

Not implemented.

---


## Feature TDP

### Subgroup
 - Francisco Serralheiro, 189445, (#32180254)
   + Issues assigned: [#43](https://github.com/tecnico-softeng/es20al_21-project/issues/43), [#50](https://github.com/tecnico-softeng/es20al_21-project/issues/50)
 - Pedro Nunes, 189525, (#44478888)
   + Issues assigned: [#42](https://github.com/tecnico-softeng/es20al_21-project/issues/42), [#47](https://github.com/tecnico-softeng/es20al_21-project/issues/47),[#54](https://github.com/tecnico-softeng/es20al_21-project/issues/54)
 - Afonso Paredes, 189401, (#33227987)
   + Issues assigned: [#48](https://github.com/tecnico-softeng/es20al_21-project/issues/48), [#49](https://github.com/tecnico-softeng/es20al_21-project/issues/49), [#52](https://github.com/tecnico-softeng/es20al_21-project/issues/52), [#54](https://github.com/tecnico-softeng/es20al_21-project/issues/54)
 
### Pull requests associated with this feature

The list of pull requests associated with this feature is:

 - [PR #055](https://github.com/tecnico-softeng/es20al_21-project/pull/55)


### Web services definition

#### Controllers
 - [Controller](https://github.com/tecnico-softeng/es20al_21-project/blob/develop/backend/src/main/java/pt/ulisboa/tecnico/socialsoftware/tutor/tournament/api/TournamentController.java)

### Feature testing

Each subgroup member defined one reading test and one writing test. The direct links to these are:

 - [ReadingTestJMeter](https://github.com/tecnico-softeng/es20al_21-project/blob/develop/backend/jmeter/Tournament/ListTournamentsTestWebService.jmx)
 - [WritingTestJMeter](https://github.com/tecnico-softeng/es20al_21-project/blob/develop/backend/jmeter/Tournament/TestWebServicecreateTournament.jmx)


#### Screenshots of Results Trees and DB cleanup

##### Feature testing - ListOpenTournaments
![Response body](http://web.tecnico.ulisboa.pt/ist189445/feature_test3.png)
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/feature_test4.png)
![DB Cleanup](http://web.tecnico.ulisboa.pt/ist189445/feature_dbcleanup.png)

##### Feature testing - EnrollStudent
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/enroll_feature_summary.png)
![DB Cleanup](http://web.tecnico.ulisboa.pt/ist189445/enroll_feauture_dbcleanup.png)

##### Feature testing - Cancel Tournament
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/cancel_feature.png)

##### Feature testing - Create Tournament
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/create_summary.png)
![DB Cleanup](http://web.tecnico.ulisboa.pt/ist189445/create_dbcleanup.png)




### Load testing

Each subgroup member defined one reading test and one writing test. The direct links to these are:

 - [ReadingTestJMeter](https://github.com/tecnico-softeng/es20al_21-project/blob/develop/backend/jmeter/Tournament/ListTournamentsLoadTest.jmx)
 - [WritingTestJMeter](https://github.com/tecnico-softeng/es20al_21-project/blob/develop/backend/jmeter/Tournament/LoadTestWebServicecreateTournament.jmx)


#### Screenshots of Summary Reports and DB cleanup

##### Load testing - ListOpenTournaments
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/load_test3.png)
![DB Cleanup](http://web.tecnico.ulisboa.pt/ist189445/load_dbcleanup.png)

##### Load testing - EnrollStudent
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/enroll_load_summary.png)
![DB Cleanup](http://web.tecnico.ulisboa.pt/ist189445/enroll_load_dbcleanup.png)

##### Load testing - Cancel Tournament
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/cancel_load_summary.png)

##### Load testing - Create Tournament
![Summary report](http://web.tecnico.ulisboa.pt/ist189445/create_load_summary.png)
![DB Cleanup](http://web.tecnico.ulisboa.pt/ist189445/create_load_dbcleanup.png)

### Service profiling

We used the [Async Profiler](https://www.jetbrains.com/help/idea/async-profiler.html).

#### Screenshots of summary reports

![Profiling percentages](https://cdn.discordapp.com/attachments/691667741656219698/693109643693785138/unknown.png)
![Profiling graphs](http://web.tecnico.ulisboa.pt/ist189445/profiling_3.png)
![Profiling heap](http://web.tecnico.ulisboa.pt/ist189445/profiling_2.png)


#### Discussion of findings

Through the analysis of the profiler, we find that most of the time the execution is inside the listTournamentByState  method, which was expected since it includes the query to the database.


